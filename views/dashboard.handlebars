<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
        crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <title>Trade Ninja</title>
</head>

<body>

    <div class="container mx-auto">
        <div class="row ml-auto">
            <a class="navbar-brand" href="/login">Trade Ninja</a>
        </div>
       

        <h1 class='my-5 text-center' id='welcome'> Kon'nichiwa Ninja {{firstName}}!</h1>

        <p class="text-center my-5 h4">Choose your path:</p>


        <div class=" text-center my-3 animated fadeIn fast">
            <a href="https://www.cnbc.com"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-info text-center dash-button shadow-lg">News</button></a>
            <a href="/portfolio"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-primary text-center dash-button shadow-lg">Portfolio</button></a>
            <a href="/history"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-secondary text-center dash-button shadow-lg">History</button></a>
            <a href="/cash"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-warning text-center dash-button shadow-lg">Cash</button></a>
            <a href="/trade"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-dark text-center dash-button shadow-lg">Ninja Trade</button></a>
            <a href="/leaders"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-danger text-center dash-button shadow-lg">Leadersboard</button></a>
        </div>

        <div class="text-center my-5">
            <a href="/contact"><button style='width: 150px; height:100px' class="btn mx-2 my-1 btn-transparent text-center dash-button">Contact Us</button></a>

            <button id='logout' style='width: 150px; height:100px' class="btn my-1 btn-transparent mx-2">Ninja Out</button>
            <button id='disposal' style='width: 150px; height:100px' class="btn my-1 btn-transparent mx-2">Ninja Disposal</button>

        </div>
           

        <div class='my-5 text-center' id="alert-space">

        </div>
    </div>



    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
        crossorigin="anonymous"></script>

    <script type='text/javascript'>
        $(document).on("click", "#logout", event => {
            $.ajax({
                type: "POST",
                contentType: "application/json",
                url: "https://trade-ninja-9505.nodechef.com/logout"
            }).then(results => {
                console.log(results);

                if (results === "Ninja vanish!") {
                    $("#logout").append(`<span class="spinner-border spinner-border-sm my-1" role="status" aria-hidden="true"></span>`)
                    setTimeout(() => {
                        window.location = 'login'
                    }, 1500);
                }
            })
        })

        $(document).on("click", "#disposal", event => {
            event.preventDefault();
            let answer = window.confirm("Are you sure you want to delete your account with Trade Ninja?");

            if (answer) {
                $.ajax({
                    type: "POST",
                    contentType: "application/json",
                    url: "https://trade-ninja-9505.nodechef.com/disposal"
                }).then(results => {
                    console.log(results);
                })
            } else {
                alert("Whoo that was a close one!");
            }

        })

    </script>
</body>

</html>